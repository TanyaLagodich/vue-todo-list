(function(){"use strict";var t={8568:function(t,e,a){a(6992),a(8674),a(9601),a(7727);var n=a(9567),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"todo-app"},[a("h1",{staticClass:"todo-app__title"},[t._v(" todo list ")]),a("adding-task",{on:{"add-task":t.addTask}}),a("tasks-list",{attrs:{tasks:t.tasks},on:{"sort-tasks":t.sortTasks,"save-task":t.saveTask,"delete-task":t.deleteTask}})],1)},i=[],r=(a(561),a(8862),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"todo-app__adding"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskText,expression:"taskText"}],staticClass:"todo-app__input",attrs:{type:"text",placeholder:"Вынести мусор"},domProps:{value:t.taskText},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTask.apply(null,arguments)},input:function(e){e.target.composing||(t.taskText=e.target.value)}}}),a("button",{staticClass:"todo-app__btn",attrs:{disabled:!t.taskText,title:t.taskText&&"Добавить"},on:{click:t.addTask}})])}),o=[],d=(a(1539),a(9714),{data:function(){return{taskText:""}},methods:{addTask:function(){if(this.taskText){var t={id:Math.random().toString(36).substr(2,9),text:this.taskText,cheked:!1};this.$emit("add-task",t),this.taskText=""}}}}),l=d,c=a(1001),u=(0,c.Z)(l,r,o,!1,null,"56c762f6",null),k=u.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"todo-app__list"},t._l(t.tasks,(function(e,n){return a("li",{key:e.id,staticClass:"todo-app__item todo-app__item_draggable",class:{"todo-app__item_opacity":n===t.dragElementIndex},attrs:{draggable:"","data-index":n},on:{dragstart:function(e){t.dragElementIndex=n},dragend:function(e){t.dragElementIndex=""},dragover:function(e){return e.preventDefault(),t.dragOver.apply(null,arguments)},drop:function(e){return t.dragDrop(n)}}},[a("task-single",{attrs:{task:e},on:{"save-task":function(e){return t.$emit("save-task",{task:e,index:n})},"delete-task":function(e){return t.$emit("delete-task",n)}}})],1)})),0)},g=[],f=(a(9653),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task"},[t.editingTask?a("div",{staticClass:"task__input-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskCopy.text,expression:"taskCopy.text"}],staticClass:"task__edit-input",attrs:{type:"text"},domProps:{value:t.taskCopy.text},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveTask.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelEditing.apply(null,arguments)}],input:function(e){e.target.composing||t.$set(t.taskCopy,"text",e.target.value)}}})]):a("div",{staticClass:"task__input-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskCopy.checked,expression:"taskCopy.checked"}],attrs:{type:"checkbox",id:t.taskCopy.id},domProps:{checked:Array.isArray(t.taskCopy.checked)?t._i(t.taskCopy.checked,null)>-1:t.taskCopy.checked},on:{change:[function(e){var a=t.taskCopy.checked,n=e.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);n.checked?r<0&&t.$set(t.taskCopy,"checked",a.concat([i])):r>-1&&t.$set(t.taskCopy,"checked",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.taskCopy,"checked",s)},t.saveTask]}}),a("label",{attrs:{for:t.taskCopy.id}},[a("span",[t._v(" "+t._s(t.taskCopy.text)+" ")])])]),a("div",[t.editingTask&&!t.taskCopy.checked?a("button",{staticClass:"task__button task__button_saving",on:{click:t.saveTask}}):t.taskCopy.checked?t._e():a("button",{staticClass:"task__button task__button_editing",on:{click:function(e){t.editingTask=!0}}}),a("button",{staticClass:"task__button task__button_deleting",on:{click:function(e){return t.$emit("delete-task")}}})])])}),h=[],v={props:{task:{type:Object,required:!0}},data:function(){return{taskCopy:{},editingTask:!1}},created:function(){this.taskCopy=Object.assign({},this.$props.task)},methods:{saveTask:function(){this.editingTask=!1,this.$emit("save-task",this.taskCopy)},cancelEditing:function(){this.editingTask=!1,this.taskCopy.text=this.$props.task.text}}},m=v,x=(0,c.Z)(m,f,h,!1,null,"5ef0d93d",null),y=x.exports,_={components:{TaskSingle:y},props:{tasks:{type:Array,required:!0}},data:function(){return{dragElementIndex:"",dragEnterElementIndex:""}},methods:{dragOver:function(t){var e=t.target.closest("li"),a=Number(e.dataset.index),n=this.dragElementIndex!==a;if(n){var s=this.$el.querySelector('[data-index="'.concat(this.dragElementIndex,'"]')),i=this.getNextElement(t.clientY,e);i&&s===i.previousElementSibling||s===i||(this.dragEnterElementIndex=a)}},dragDrop:function(){!this.dragEnterElementIndex&&0!==this.dragEnterElementIndex||this.dragElementIndex===this.dragEnterElementIndex||this.$emit("sort-tasks",{draggableIndex:this.dragElementIndex,newIndex:this.dragEnterElementIndex}),this.dragEnterElementIndex="",this.dragElementIndex=""},getNextElement:function(t,e){var a=e.getBoundingClientRect(),n=a.y+a.height/2,s=t<n?e:e.nextElementSibling;return s}}},C=_,E=(0,c.Z)(C,p,g,!1,null,"c4dc599a",null),b=E.exports,T={components:{AddingTask:k,TasksList:b},data:function(){return{tasks:[]}},created:function(){localStorage.getItem("tasks")&&(this.tasks=JSON.parse(localStorage.getItem("tasks")))},methods:{sortTasks:function(t){var e=t.draggableIndex,a=t.newIndex,n=this.tasks[e],s=this.tasks[a];console.log({draggableIndex:e,draggableElem:n,newIndex:a,enterDragElem:s}),this.$set(this.tasks,e,s),this.$set(this.tasks,a,n),console.log(this.tasks),this.updateLocalStorage()},addTask:function(t){this.tasks.push(t),this.updateLocalStorage()},saveTask:function(t){var e=t.task,a=t.index;this.tasks[a]=e,this.updateLocalStorage()},deleteTask:function(t){this.tasks.splice(t,1),this.updateLocalStorage()},updateLocalStorage:function(){localStorage.setItem("tasks",JSON.stringify(this.tasks))}}},I=T,O=(0,c.Z)(I,s,i,!1,null,null,null),$=O.exports;n.Z.config.productionTip=!1,new n.Z({render:function(t){return t($)}}).$mount("#app")}},e={};function a(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,n,s,i){if(!n){var r=1/0;for(c=0;c<t.length;c++){n=t[c][0],s=t[c][1],i=t[c][2];for(var o=!0,d=0;d<n.length;d++)(!1&i||r>=i)&&Object.keys(a.O).every((function(t){return a.O[t](n[d])}))?n.splice(d--,1):(o=!1,i<r&&(r=i));if(o){t.splice(c--,1);var l=s();void 0!==l&&(e=l)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[n,s,i]}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,i,r=n[0],o=n[1],d=n[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(d)var c=d(a)}for(e&&e(n);l<r.length;l++)i=r[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(c)},n=self["webpackChunkvue_todo_list"]=self["webpackChunkvue_todo_list"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(8568)}));n=a.O(n)})();
//# sourceMappingURL=app-legacy.71d35f51.js.map